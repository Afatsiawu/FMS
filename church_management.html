<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Apostolic Church Ghana - Atta Ne Atta | Management System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="church-logo">
                    <img src="images.jpg" alt="Church Logo" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover; display: block;">
                </div>
                <div class="church-name">The Apostolic Church Ghana</div>
                <div class="church-subtitle">Atta Ne Atta</div>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#" class="nav-link active" data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                        Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="income">
                        <i class="fas fa-coins"></i>
                        Income
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="tithes">
                        <i class="fas fa-hand-holding-heart"></i>
                        Individual Tithes
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="expenses">
                        <i class="fas fa-receipt"></i>
                        Expenses
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="inventory">
                        <i class="fas fa-boxes"></i>
                        Inventory
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="reports">
                        <i class="fas fa-chart-line"></i>
                        Reports
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-section="settings">
                        <i class="fas fa-cog"></i>
                        Settings
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <div class="header">
                <div>
                    <h1 class="header-title">Church Management System</h1>
                    <div class="header-date" id="currentDate"></div>
                </div>
                <div>
                    <span class="badge badge-success">Pastor Kwame Asante</span>
                </div>
            </div>

            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <div class="dashboard-grid">
                    <div class="summary-card income">
                        <div class="summary-value" id="todayIncome">₵0.00</div>
                        <div class="summary-label">Today's Local Income (23%)</div>
                    </div>
                    <div class="summary-card district">
                        <div class="summary-value" id="districtAllocation">₵0.00</div>
                        <div class="summary-label">District Allocation (77%)</div>
                    </div>
                    <div class="summary-card expense">
                        <div class="summary-value" id="todayExpense">₵0.00</div>
                        <div class="summary-label">Total Expenses</div>
                    </div>
                    <div class="summary-card balance">
                        <div class="summary-value" id="netBalance">₵0.00</div>
                        <div class="summary-label">Net Balance</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Quick Actions</h3>
                    </div>
                    <div class="quick-actions">
                        <button class="btn btn-primary" onclick="showSection('income')">
                            <i class="fas fa-plus-circle"></i> Add Income
                        </button>
                        <button class="btn btn-danger" onclick="showSection('expenses')">
                            <i class="fas fa-minus-circle"></i> Add Expense
                        </button>
                        <button class="btn btn-success" onclick="showSection('tithes')">
                            <i class="fas fa-hand-holding-usd"></i> Record Tithe
                        </button>
                        <button class="btn btn-info" onclick="showSection('offerings')">
                            <i class="fas fa-donate"></i> Record Offering
                        </button>
                    </div>
                </div>

                <!-- Tithes & Offerings Summary -->
                <div class="card mt-4">
                    <div class="card-header">
                        <h3 class="card-title">Tithes & Offerings Summary</h3>
                    </div>
                    <div class="card-body">
                        <div class="dashboard-grid">
                            <div class="summary-card info">
                                <div class="summary-value" id="totalTithes">₵0.00</div>
                                <div class="summary-label">Total Tithes</div>
                            </div>
                            <div class="summary-card success">
                                <div class="summary-value" id="totalOfferings">₵0.00</div>
                                <div class="summary-label">Total Offerings</div>
                            </div>
                            <div class="summary-card district">
                                <div class="summary-value" id="totalDistrictAllocation">₵0.00</div>
                                <div class="summary-label">District Allocation (77%)</div>
                            </div>
                            <div class="summary-card primary">
                                <div class="summary-value" id="localRetention">₵0.00</div>
                                <div class="summary-label">Local Retention (23%)</div>
                            </div>
                        </div>
                        <div class="mt-3" id="tithesOfferingsChartContainer">
                            <canvas id="tithesOfferingsChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Recent Transactions</h3>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Amount</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="recentTransactions">
                            <tr>
                                <td colspan="5" style="text-align: center; color: #666;">No transactions yet</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Income Section -->
            <section id="income" class="content-section">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Income Management</h3>
                        <button class="btn btn-primary" onclick="openModal('incomeModal')">
                            <i class="fas fa-plus"></i> Add Income
                        </button>
                    </div>
                    
                    <!-- Total Individual Tithe and Offering Display -->
                    <div style="margin-bottom: 15px; padding: 10px; background-color: #f8f9fa; border-radius: 5px; border-left: 4px solid #007bff;">
                        <h5 style="margin: 0; color: #495057;">
                            Total Individual Tithe and Offering: <span id="totalIndividualTithe" style="color: #007bff; font-weight: bold;">₵0.00</span>
                            <span style="margin-left: 20px;">23% Local: <span id="localTitheAmount" style="color: #28a745; font-weight: bold;">₵0.00</span></span>
                        </h5>
                    </div>
                    
                    <div style="margin-bottom: 15px; padding: 10px; background-color: #f8f9fa; border-radius: 5px; border-left: 4px solid #28a745;">
                        <h5 style="margin: 0; color: #495057;">
                            Total Local Income (23%): <span id="totalLocalIncome" style="color: #28a745; font-weight: bold;">₵0.00</span>
                            <span style="margin-left: 20px;">Total District Allocation (77%): <span id="totalDistrictAllocation" style="color: #17a2b8; font-weight: bold;">₵0.00</span></span>
                        </h5>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Category</th>
                                <th>Description</th>
                                <th>Total Amount</th>
                                <th>Local (23%)</th>
                                <th>District (77%)</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="incomeTable">
                            <tr>
                                <td colspan="7" style="text-align: center; color: #666;">No income records yet</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Individual Tithes Section -->
            <section id="tithes" class="content-section">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Individual Tithes - <span id="currentMonth"></span></h3>
                        <div>
                            <select id="monthSelector" class="form-select" style="width: auto; display: inline-block;">
                                <option value="0">January</option>
                                <option value="1">February</option>
                                <option value="2">March</option>
                                <option value="3">April</option>
                                <option value="4">May</option>
                                <option value="5">June</option>
                                <option value="6">July</option>
                                <option value="7">August</option>
                                <option value="8">September</option>
                                <option value="9">October</option>
                                <option value="10">November</option>
                                <option value="11">December</option>
                            </select>
                            <button class="btn btn-primary" onclick="openModal('titheModal')">
                                <i class="fas fa-plus"></i> Add Tithe
                            </button>
                            <button class="btn btn-success" onclick="openModal('offeringModal')">
                                <i class="fas fa-plus"></i> Add Offering
                            </button>
                        </div>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Member Name</th>
                                <th>Member ID</th>
                                <th>Week 1</th>
                                <th>Week 2</th>
                                <th>Week 3</th>
                                <th>Week 4</th>
                                <th>Week 5</th>
                                <th>Total</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="tithesTable">
                            <tr>
                                <td colspan="9" style="text-align: center; color: #666;">No tithe records yet</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Expenses Section -->
            <section id="expenses" class="content-section">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Expense Management</h3>
                        <button class="btn btn-primary" onclick="openModal('expenseModal')">
                            <i class="fas fa-plus"></i> Add Expense
                        </button>
                    </div>
                    
                    <!-- Total Individual Tithe and Offering Display for Expenses -->
                    <div style="margin-bottom: 15px; padding: 10px; background-color: #f8f9fa; border-radius: 5px; border-left: 4px solid #dc3545;">
                        <h5 style="margin: 0; color: #495057;">
                            Total Individual Tithe and Offering: <span id="totalExpenseTithe" style="color: #dc3545; font-weight: bold;">₵0.00</span>
                            <span style="margin-left: 20px;">77% Local Expense: <span id="districtTitheAmount" style="color: #fd7e14; font-weight: bold;">₵0.00</span></span>
                        </h5>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <button class="btn btn-primary" onclick="showExpenseCategory('other')" id="otherExpenseBtn">Local Expenses</button>
                        <button class="btn btn-warning" onclick="showExpenseCategory('district')" id="districtExpenseBtn">District Expenses</button>
                        <button class="btn btn-danger" onclick="showExpenseCategory('national')" id="nationalExpenseBtn">National Expenses</button>
                    </div>

                    <div id="otherExpenses">
                        <h4>Local Expenses</h4>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Category</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="otherExpensesTable">
                                <tr>
                                    <td colspan="5" style="text-align: center; color: #666;">No local expenses yet</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div id="districtExpenses" style="display: none;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h4>District Expenses</h4>
                            <button class="btn btn-primary" onclick="openModal('districtExpenseModal')">
                                <i class="fas fa-plus"></i> Add District Expense
                            </button>
                        </div>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Category</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="districtExpensesTable">
                                <tr>
                                    <td colspan="5" style="text-align: center; color: #666;">No district expenses yet</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div id="nationalExpenses" style="display: none;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h4>National Expenses</h4>
                            <button class="btn btn-primary" onclick="openModal('nationalExpenseModal')">
                                <i class="fas fa-plus"></i> Add National Expense
                            </button>
                        </div>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Category</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="nationalExpensesTable">
                                <tr>
                                    <td colspan="4" style="text-align: center; color: #666;">No national expenses yet</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Inventory Section -->
            <section id="inventory" class="content-section">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Inventory Management</h3>
                        <button class="btn btn-primary" onclick="openModal('inventoryModal')">
                            <i class="fas fa-plus"></i> Add Item
                        </button>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Item Name</th>
                                <th>Category</th>
                                <th>Quantity</th>
                                <th>Condition</th>
                                <th>Date Added</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="inventoryTable">
                            <tr>
                                <td colspan="6" style="text-align: center; color: #666;">No inventory items yet</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Reports Section -->
            <section id="reports" class="content-section">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Financial Reports</h3>
                        <div>
                            <button class="btn btn-success" onclick="exportData()">
                                <i class="fas fa-download"></i> Export Excel
                            </button>
                            <button class="btn btn-danger" onclick="exportPDF()">
                                <i class="fas fa-file-pdf"></i> Export PDF
                            </button>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <button class="btn btn-primary" onclick="showReport('weekly')" id="weeklyReportBtn">Weekly Report</button>
                        <button class="btn btn-warning" onclick="showReport('monthly')" id="monthlyReportBtn">Monthly Report</button>
                        <button class="btn btn-danger" onclick="showReport('yearly')" id="yearlyReportBtn">Yearly Report</button>
                        <button class="btn btn-success" onclick="showReport('pl')" id="plReportBtn">P&L Statement</button>
                    </div>

                    <div id="weeklyReport">
                        <h4>Weekly Report</h4>
                        <div class="dashboard-grid">
                            <div class="summary-card income">
                                <div class="summary-value" id="weeklyIncome">₵0.00</div>
                                <div class="summary-label">Weekly Income</div>
                            </div>
                            <div class="summary-card expense">
                                <div class="summary-value" id="weeklyExpense">₵0.00</div>
                                <div class="summary-label">Weekly Expenses</div>
                            </div>
                            <div class="summary-card balance">
                                <div class="summary-value" id="weeklyBalance">₵0.00</div>
                                <div class="summary-label">Weekly Balance</div>
                            </div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Weekly Income Transactions</h5>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Category</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                </tr>
                            </thead>
                            <tbody id="weeklyIncomeTable">
                                <tr><td colspan="4" style="text-align: center; color: #666;">No transactions this week</td></tr>
                            </tbody>
                        </table>
                        
                        <h5 style="margin-top: 20px;">Weekly Expense Transactions</h5>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Category</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Type</th>
                                </tr>
                            </thead>
                            <tbody id="weeklyExpenseTable">
                                <tr><td colspan="5" style="text-align: center; color: #666;">No expenses this week</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <div id="monthlyReport" style="display: none;">
                        <h4>Monthly Report</h4>
                        <div class="dashboard-grid">
                            <div class="summary-card income">
                                <div class="summary-value" id="monthlyIncome">₵0.00</div>
                                <div class="summary-label">Monthly Income</div>
                            </div>
                            <div class="summary-card expense">
                                <div class="summary-value" id="monthlyExpense">₵0.00</div>
                                <div class="summary-label">Monthly Expenses</div>
                            </div>
                            <div class="summary-card balance">
                                <div class="summary-value" id="monthlyBalance">₵0.00</div>
                                <div class="summary-label">Monthly Balance</div>
                            </div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Monthly Income Transactions</h5>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Category</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                </tr>
                            </thead>
                            <tbody id="monthlyIncomeTable">
                                <tr><td colspan="4" style="text-align: center; color: #666;">No transactions this month</td></tr>
                            </tbody>
                        </table>
                        
                        <h5 style="margin-top: 20px;">Monthly Expense Transactions</h5>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Category</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Type</th>
                                </tr>
                            </thead>
                            <tbody id="monthlyExpenseTable">
                                <tr><td colspan="5" style="text-align: center; color: #666;">No expenses this month</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <div id="yearlyReport" style="display: none;">
                        <h4>Yearly Report</h4>
                        <div class="dashboard-grid">
                            <div class="summary-card income">
                                <div class="summary-value" id="yearlyIncome">₵0.00</div>
                                <div class="summary-label">Yearly Income</div>
                            </div>
                            <div class="summary-card expense">
                                <div class="summary-value" id="yearlyExpense">₵0.00</div>
                                <div class="summary-label">Yearly Expenses</div>
                            </div>
                            <div class="summary-card balance">
                                <div class="summary-value" id="yearlyBalance">₵0.00</div>
                                <div class="summary-label">Yearly Balance</div>
                            </div>
                        </div>
                        
                        <h5 style="margin-top: 20px;">Yearly Income Transactions</h5>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Category</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                </tr>
                            </thead>
                            <tbody id="yearlyIncomeTable">
                                <tr><td colspan="4" style="text-align: center; color: #666;">No transactions this year</td></tr>
                            </tbody>
                        </table>
                        
                        <h5 style="margin-top: 20px;">Yearly Expense Transactions</h5>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Category</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Type</th>
                                </tr>
                            </thead>
                            <tbody id="yearlyExpenseTable">
                                <tr><td colspan="5" style="text-align: center; color: #666;">No expenses this year</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <div id="plReport" style="display: none;">
                        <h4>Profit & Loss Statement</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <!-- Revenue Section -->
                            <div>
                                <h5 style="background: #1e3c72; color: white; padding: 10px; margin: 0;">REVENUE</h5>
                                <table class="table" style="margin-top: 0;">
                                    <thead>
                                        <tr>
                                            <th>Description</th>
                                            <th>Amount (₵)</th>
                                        </tr>
                                    </thead>
                                    <tbody id="revenueTable">
                                        <!-- Revenue items will be populated here -->
                                    </tbody>
                                    <tfoot>
                                        <tr style="font-weight: bold; background: #f8f9fa;">
                                            <td>Total Revenue</td>
                                            <td id="totalRevenue">₵0.00</td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>

                            <!-- Expenses Section -->
                            <div>
                                <h5 style="background: #dc3545; color: white; padding: 10px; margin: 0;">EXPENSES</h5>
                                <table class="table" style="margin-top: 0;">
                                    <thead>
                                        <tr>
                                            <th>Description</th>
                                            <th>Amount (₵)</th>
                                        </tr>
                                    </thead>
                                    <tbody id="expensesTable">
                                        <!-- Expense items will be populated here -->
                                    </tbody>
                                    <tfoot>
                                        <tr style="font-weight: bold; background: #f8f9fa;">
                                            <td>Total Expenses</td>
                                            <td id="totalExpenses">₵0.00</td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>

                        <!-- Net Profit/Loss -->
                        <div style="margin-top: 20px; padding: 15px; border: 2px solid #1e3c72; background: #f8f9fa;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <h4 style="margin: 0;">NET PROFIT/LOSS</h4>
                                <h4 id="netProfitLoss" style="margin: 0; font-weight: bold;">₵0.00</h4>
                            </div>
                        </div>

                        <!-- Detailed Transaction Breakdown -->
                        <div style="margin-top: 30px;">
                            <h5>Transaction Details</h5>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                <!-- Income Transactions -->
                                <div>
                                    <h6 style="color: #28a745;">Income Transactions</h6>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Category</th>
                                                <th>Description</th>
                                                <th>Amount</th>
                                            </tr>
                                        </thead>
                                        <tbody id="plIncomeTransactions">
                                            <tr><td colspan="4" style="text-align: center; color: #666;">No income transactions</td></tr>
                                        </tbody>
                                    </table>
                                </div>

                                <!-- Expense Transactions -->
                                <div>
                                    <h6 style="color: #dc3545;">Expense Transactions</h6>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Category</th>
                                                <th>Description</th>
                                                <th>Amount</th>
                                            </tr>
                                        </thead>
                                        <tbody id="plExpenseTransactions">
                                            <tr><td colspan="4" style="text-align: center; color: #666;">No expense transactions</td></tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="content-section">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">System Settings</h3>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Church Name</label>
                        <input type="text" class="form-input" value="The Apostolic Church Ghana - Atta Ne Atta" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Pastor Name</label>
                        <input type="text" class="form-input" value="Pastor Kwame Asante" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Address</label>
                        <input type="text" class="form-input" value="P.O. Box 1234, Accra, Ghana" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phone</label>
                        <input type="text" class="form-input" value="+233 24 123 4567" readonly>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Currency</label>
                        <input type="text" class="form-input" value="Ghana Cedi (₵)" readonly>
                    </div>
                </div>

                <!-- Data Management Section -->
                <div class="card" style="margin-top: 20px;">
                    <div class="card-header">
                        <h3 class="card-title">Data Management</h3>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; padding: 20px;">
                        <!-- Reset for New Year Card -->
                        <div class="card" style="background: linear-gradient(135deg, #ff6b6b, #ee5a52); color: white;">
                            <div class="card-header" style="border-bottom: 1px solid rgba(255,255,255,0.2);">
                                <h4 style="color: white; margin: 0;">
                                    <i class="fas fa-calendar-alt" style="margin-right: 10px;"></i>
                                    New Year Reset
                                </h4>
                            </div>
                            <div style="padding: 20px;">
                                <p style="margin-bottom: 15px; opacity: 0.9;">Archive current year data and start fresh for the new year.</p>
                                <button class="btn" onclick="confirmYearReset()" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3);">
                                    <i class="fas fa-refresh" style="margin-right: 8px;"></i>
                                    Reset for New Year
                                </button>
                            </div>
                        </div>

                        <!-- Past Data Card -->
                        <div class="card" style="background: linear-gradient(135deg, #4ecdc4, #44a08d); color: white;">
                            <div class="card-header" style="border-bottom: 1px solid rgba(255,255,255,0.2);">
                                <h4 style="color: white; margin: 0;">
                                    <i class="fas fa-history" style="margin-right: 10px;"></i>
                                    Past Data
                                </h4>
                            </div>
                            <div style="padding: 20px;">
                                <p style="margin-bottom: 15px; opacity: 0.9;">View historical financial data and reports from previous years.</p>
                                <button class="btn" onclick="openPastDataModal()" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3);">
                                    <i class="fas fa-chart-line" style="margin-right: 8px;"></i>
                                    View Past Data
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modals -->
    <!-- Income Modal -->
    <div id="incomeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Income</h3>
                <span class="close" onclick="closeModal('incomeModal')">&times;</span>
            </div>
            <form id="incomeForm">
                <div class="form-group">
                    <label class="form-label">Category</label>
                    <select class="form-select" id="incomeCategory" required>
                        <option value="">Select Category</option>
                        <option value="23% (of tithe and offering)">23% (of tithe and offering)</option>
                        <option value="Collection">Collection</option>
                        <option value="Appeal - Local">Appeal - Local</option>
                        <option value="Appeal - District">Appeal - District</option>
                        <option value="Appeal - Area">Appeal - Area</option>
                        <option value="Appeal - National">Appeal - National</option>
                        <option value="Sunday School">Sunday School</option>
                        <option value="Development Funds">Development Funds</option>
                        <option value="Building Support">Building Support</option>
                        <option value="Revival Donations">Revival Donations</option>
                        <option value="Others">Others</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <input type="text" class="form-input" id="incomeDescription" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Amount (₵)</label>
                    <input type="number" class="form-input" id="incomeAmount" step="0.01" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-input" id="incomeDate" required>
                </div>
                <div class="form-group" style="display: flex; gap: 20px; margin: 15px 0;">
                    <label class="form-checkbox">
                        <input type="checkbox" id="incomeIsTithe">
                        <span>Is Tithe</span>
                    </label>
                    <label class="form-checkbox">
                        <input type="checkbox" id="incomeIsOffering">
                        <span>Is Offering</span>
                    </label>
                </div>
                <button type="submit" class="btn btn-primary">Add Income</button>
            </form>
        </div>
    </div>

    <!-- Tithe Modal -->
    <div id="titheModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Tithe</h3>
                <span class="close" onclick="closeModal('titheModal')">&times;</span>
            </div>
            <form id="titheForm">
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label class="form-label">Member Name</label>
                        <input type="text" class="form-input" id="memberName" required>
                    </div>
                    <div class="form-group col-md-6">
                        <label class="form-label">Member ID</label>
                        <input type="text" class="form-input" id="memberId" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label class="form-label">Month</label>
                        <select class="form-select" id="titheMonth" required>
                            <option value="0">January</option>
                            <option value="1">February</option>
                            <option value="2">March</option>
                            <option value="3">April</option>
                            <option value="4">May</option>
                            <option value="5">June</option>
                            <option value="6">July</option>
                            <option value="7">August</option>
                            <option value="8">September</option>
                            <option value="9">October</option>
                            <option value="10">November</option>
                            <option value="11">December</option>
                        </select>
                    </div>
                    <div class="form-group col-md-6">
                        <label class="form-label">Week</label>
                        <select class="form-select" id="titheWeek" required>
                            <option value="1">Week 1</option>
                            <option value="2">Week 2</option>
                            <option value="3">Week 3</option>
                            <option value="4">Week 4</option>
                            <option value="5">Week 5</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Tithe Amount (₵)</label>
                    <input type="number" class="form-input" id="titheAmount" step="0.01" required>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Save</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('titheModal')">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Offering Modal -->
    <div id="offeringModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Offering</h3>
                <span class="close" onclick="closeModal('offeringModal')">&times;</span>
            </div>
            <form id="offeringForm">
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label class="form-label">Month</label>
                        <select class="form-select" id="offeringMonth" required>
                            <option value="0">January</option>
                            <option value="1">February</option>
                            <option value="2">March</option>
                            <option value="3">April</option>
                            <option value="4">May</option>
                            <option value="5">June</option>
                            <option value="6">July</option>
                            <option value="7">August</option>
                            <option value="8">September</option>
                            <option value="9">October</option>
                            <option value="10">November</option>
                            <option value="11">December</option>
                        </select>
                    </div>
                    <div class="form-group col-md-6">
                        <label class="form-label">Week</label>
                        <select class="form-select" id="offeringWeek" required>
                            <option value="1">Week 1</option>
                            <option value="2">Week 2</option>
                            <option value="3">Week 3</option>
                            <option value="4">Week 4</option>
                            <option value="5">Week 5</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Offering Amount (₵)</label>
                    <input type="number" class="form-input" id="offeringAmountInput" step="0.01" required>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-success">Save</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('offeringModal')">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Expense Modal -->
    <div id="expenseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Expense</h3>
                <span class="close" onclick="closeModal('expenseModal')">&times;</span>
            </div>
            <form id="expenseForm">
                <div class="form-group">
                    <label class="form-label">Category</label>
                    <select class="form-select" id="expenseCategory" required>
                        <option value="">Select Category</option>
                        <option value="Printing and Stationery">Printing and Stationery</option>
                        <option value="Security Salary">Security Salary</option>
                        <option value="Water">Water</option>
                        <option value="Cleaning">Cleaning</option>
                        <option value="TNT / Visitation">TNT / Visitation</option>
                        <option value="Retirement Support">Retirement Support</option>
                        <option value="Honorarium - local">Honorarium - local</option>
                        <option value="Honorarium - External">Honorarium - External</option>
                        <option value="Communion wine / bread">Communion wine / bread</option>
                        <option value="Refreshment">Refreshment</option>
                        <option value="Sunday School Expenses">Sunday School Expenses</option>
                        <option value="Funeral">Funeral</option>
                        <option value="One Week">One Week</option>
                        <option value="Wedding">Wedding</option>
                        <option value="Instrumentalist">Instrumentalist</option>
                        <option value="Women's Movement">Women's Movement</option>
                        <option value="Building Expenses">Building Expenses</option>
                        <option value="77% (of tithe and offering)">77% (of tithe and offering)</option>
                        <option value="Total District Expense">Total District Expense</option>
                        <option value="Total National Expense">Total National Expense</option>
                        <option value="Others">Others</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <input type="text" class="form-input" id="expenseDescription" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Amount (₵)</label>
                    <input type="number" class="form-input" id="expenseAmount" step="0.01" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-input" id="expenseDate" required>
                </div>
                <button type="submit" class="btn btn-primary">Add Expense</button>
            </form>
        </div>
    </div>

    <!-- Inventory Modal -->
    <div id="inventoryModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Inventory Item</h3>
                <span class="close" onclick="closeModal('inventoryModal')">&times;</span>
            </div>
            <form id="inventoryForm">
                <div class="form-group">
                    <label class="form-label">Item Name</label>
                    <input type="text" class="form-input" id="itemName" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Category</label>
                    <select class="form-select" id="itemCategory" required>
                        <option value="">Select Category</option>
                        <option value="Tables">Tables</option>
                        <option value="Chairs">Chairs</option>
                        <option value="Office Chairs">Office Chairs</option>
                        <option value="Mixer Band">Mixer Band</option>
                        <option value="Amplifier">Amplifier</option>
                        <option value="Microphones">Microphones</option>
                        <option value="Drums">Drums</option>
                        <option value="Guitar">Guitar</option>
                        <option value="Key board">Key board</option>
                        <option value="Speakers">Speakers</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Quantity</label>
                    <input type="number" class="form-input" id="itemQuantity" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Condition</label>
                    <select class="form-select" id="itemCondition" required>
                        <option value="">Select Condition</option>
                        <option value="Excellent">Excellent</option>
                        <option value="Good">Good</option>
                        <option value="Fair">Fair</option>
                        <option value="Poor">Poor</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Add Item</button>
            </form>
        </div>
    </div>

    <!-- District Expense Modal -->
    <div id="districtExpenseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add District Expense</h3>
                <span class="close" onclick="closeModal('districtExpenseModal')">&times;</span>
            </div>
            <form id="districtExpenseForm">
                <div class="form-group">
                    <label class="form-label">Category</label>
                    <select class="form-select" id="districtExpenseCategory" required>
                        <option value="">Select Category</option>
                        <option value="Tithes and Offering (77%)">Tithes and Offering (77%)</option>
                        <option value="District Mission House Support">District Mission House Support</option>
                        <option value="Area Recruitment">Area Recruitment</option>
                        <option value="Mission House Rent">Mission House Rent</option>
                        <option value="21 Days - District">21 Days - District</option>
                        <option value="21 Days - Area">21 Days - Area</option>
                        <option value="Area Week">Area Week</option>
                        <option value="District Week">District Week</option>
                        <option value="Children's Week">Children's Week</option>
                        <option value="District Funeral Dues">District Funeral Dues</option>
                        <option value="Area Funeral Dues">Area Funeral Dues</option>
                        <option value="District Sunday">District Sunday</option>
                        <option value="Area Sunday">Area Sunday</option>
                        <option value="Elders Welfare">Elders Welfare</option>
                        <option value="Others">Others</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <input type="text" class="form-input" id="districtExpenseDescription" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Amount (₵)</label>
                    <input type="number" class="form-input" id="districtExpenseAmount" step="0.01" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-input" id="districtExpenseDate" required>
                </div>
                <button type="submit" class="btn btn-primary">Add District Expense</button>
            </form>
        </div>
    </div>

    <!-- National Expense Modal -->
    <div id="nationalExpenseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add National Expense</h3>
                <span class="close" onclick="closeModal('nationalExpenseModal')">&times;</span>
            </div>
            <form id="nationalExpenseForm">
                <div class="form-group">
                    <label class="form-label">Category</label>
                    <select class="form-select" id="nationalExpenseCategory" required>
                        <option value="">Select Category</option>
                        <option value="Bible Week">Bible Week</option>
                        <option value="Men's Week">Men's Week</option>
                        <option value="Women's Week">Women's Week</option>
                        <option value="Nehemiah Project">Nehemiah Project</option>
                        <option value="Missionary Week">Missionary Week</option>
                        <option value="Apostolic Week">Apostolic Week</option>
                        <option value="Youth Week">Youth Week</option>
                        <option value="GPCC Week">GPCC Week</option>
                        <option value="31st Watch Night">31st Watch Night</option>
                        <option value="National Education Week">National Education Week</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <input type="text" class="form-input" id="nationalExpenseDescription" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Amount (₵)</label>
                    <input type="number" class="form-input" id="nationalExpenseAmount" step="0.01" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Date</label>
                    <input type="date" class="form-input" id="nationalExpenseDate" required>
                </div>
                <button type="submit" class="btn btn-primary">Add National Expense</button>
            </form>
        </div>
    </div>

    <!-- Year Reset Confirmation Modal -->
    <div id="yearResetModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirm New Year Reset</h3>
                <span class="close" onclick="closeModal('yearResetModal')">&times;</span>
            </div>
            <div style="padding: 20px;">
                <p><strong>Warning:</strong> This will archive all current data and start fresh for the new year.</p>
                <p>Current year data will be moved to historical records.</p>
                <div style="margin-top: 20px;">
                    <button class="btn btn-danger" onclick="performYearReset()">Confirm Reset</button>
                    <button class="btn btn-secondary" onclick="closeModal('yearResetModal')" style="margin-left: 10px;">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Past Data Modal -->
    <div id="pastDataModal" class="modal">
        <div class="modal-content" style="max-width: 90%; width: 1000px;">
            <div class="modal-header">
                <h3>Historical Data</h3>
                <span class="close" onclick="closeModal('pastDataModal')">&times;</span>
            </div>
            <div style="padding: 20px;">
                <div class="form-group">
                    <label class="form-label">Select Year</label>
                    <select class="form-select" id="historicalYear" onchange="loadHistoricalData()">
                        <option value="">Choose a year...</option>
                    </select>
                </div>
                <div id="historicalContent" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h4>Profit & Loss Statement - <span id="selectedYear"></span></h4>
                        </div>
                        <div id="historicalPL"></div>
                    </div>
                    <div class="card" style="margin-top: 20px;">
                        <div class="card-header">
                            <h4>Transaction History</h4>
                        </div>
                        <div id="historicalTransactions"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>